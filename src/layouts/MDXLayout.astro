---
import ContentTags from "../components/ContentTags.astro";
import IndexPageLayout from "./IndexPageLayout.astro";

const { frontmatter } = Astro.props;
const { title, description, image, startDate, tags, canonical } = frontmatter;
---

<IndexPageLayout
  title={title}
  description={description}
  image={image}
  subTitle={title}
  canonicalURL={canonical}
>
  <div class="w-full min-w-0 flex flex-col items-center justify-center">
    {tags && (
      <div class="pb-4 mx-auto">
        <ContentTags tags={tags} />
      </div>
    )}

    {startDate && (
      <div class="text-sm text-light my-2 sr-only mx-auto">
        {startDate}
      </div>
    )}

    <article
      class="
        prose dark:prose-invert
        mx-auto w-full min-w-0 max-w-none
        overflow-hidden
        prose-img:block prose-img:mx-auto
        prose-img:w-full prose-img:max-w-full
        prose-img:h-auto
        prose-img:rounded-2xl
        prose-img:my-6
      "
    >
      <slot />
    </article>
  </div>
</IndexPageLayout>

<style>
  /* ✅ evita que fotos muy altas “se coman” la pantalla en móvil */
  article :global(img) {
    max-height: 70vh;
    object-fit: contain;
  }
</style>
